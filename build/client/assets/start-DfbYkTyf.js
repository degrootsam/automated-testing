import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{d as h,b as j,r as n,a as g,L as b}from"./components-DAwjMhVV.js";import{a as R}from"./index-CwcO-kb-.js";import{A as l}from"./index-D3e8Zo9y.js";import{C as N,B as i}from"./index-uFqOPUMb.js";import{H as w}from"./index-ZxjzPnyj.js";import{T as c}from"./index-Bre9T0-e.js";import{T as y}from"./index-CouqIJUX.js";import"./iconBase-ViZ73mvc.js";function B(){const{project:d,suite:m}=h(),s=j({key:"start-recording"}),a=n.useRef(null),{appURL:u,process:T,hasDependencies:x}=g(),[o]=n.useState(""),p=async f=>{f.preventDefault();const r=a.current;if(!r||!r.reportValidity())return;const t=new FormData(r);t.append("project",d.name),t.append("suite",m),s.submit(t,{method:"POST"})};return e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[e.jsx("div",{className:"mb-4 text-center",children:e.jsx(w,{size:"h1",children:"Recording a Test"})}),e.jsx(N,{className:"w-full max-w-xl",children:e.jsx(s.Form,{ref:a,children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold mb-2",htmlFor:"name",children:"Test Name"}),e.jsx(c,{placeholder:"Please enter a strong and clear name for the test",required:!0,name:"name",id:"name",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold mb-2",htmlFor:"url",children:"URL"}),e.jsx(c,{name:"url",id:"url",label:u,className:"w-full"})]}),x&&e.jsx(l,{message:"This suite contains dependencies! It might take a little longer to start the recording process.",color:"info"}),o&&e.jsx(l,{message:o,color:"error"}),e.jsxs("div",{className:"flex justify-end flex-row gap-2",children:[e.jsx(b,{to:"../../view",children:e.jsx(i,{type:"button",children:"Cancel"})}),e.jsx(y,{message:"The recording starts automatically once the browser opens",children:e.jsxs(i,{color:"primary",type:"button",loading:s.state!=="idle",onClick:p,children:[e.jsx(R,{})," Start Recording"]})})]})]})})})]})}export{B as default};
