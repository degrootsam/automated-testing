import{j as e}from"./jsx-runtime-0DLF9kdB.js";import{b as d,a as u,r as o}from"./components-DAwjMhVV.js";import{b as f}from"./index-CwcO-kb-.js";import{A as p}from"./index-D3e8Zo9y.js";import{C as x,B as h}from"./index-uFqOPUMb.js";import{H as i}from"./index-ZxjzPnyj.js";import{P as j}from"./index-D8T7_JUT.js";import{T as g}from"./index-CouqIJUX.js";import{u as N}from"./index-DWtJuAqr.js";import"./iconBase-ViZ73mvc.js";import"./index-BhvR20cr.js";function A(){const t=d(),c=u(),[r,m]=o.useState(""),[n,l]=o.useState(!0),{data:s,error:a}=N(n,`/api/recording/status?process=${c.procName}`,2e3);return o.useEffect(()=>{a&&(l(!1),m(`An error occurred while fetching the status: ${a}`))},[a]),o.useEffect(()=>{(s==null?void 0:s.status)==="stopped"&&(l(!1),t.submit(null,{method:"POST"}))},[s==null?void 0:s.status]),console.log(s),e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"mb-4 text-center",children:[e.jsx(i,{size:"h1",children:"Ssst ðŸ¤«"}),e.jsx(i,{size:"h2",className:"text-primary",children:"RECORDING IN PROGRESS"})]}),e.jsxs(x,{className:"max-w-xl",children:[e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-sm font-medium",children:"Use the Playwright browser to record your moves! Once you're done, close the recorder or use the button below to stop recording."})}),!r&&e.jsx(g,{message:"Recording in progress...",className:"w-full mb-4",children:e.jsx(j,{className:"w-full"})}),r&&e.jsx(p,{message:r,color:"error"}),e.jsx("div",{className:"flex justify-end flex-row gap-2",children:!r&&e.jsx(t.Form,{method:"POST",children:e.jsxs(h,{color:"error",type:"submit",loading:t.state!=="idle",children:[e.jsx(f,{}),"Stop Recording"]})})})]})]})}export{A as default};
